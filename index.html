<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
    <title>Document</title>
    <style type="text/css">
        *{
            margin: 10px auto;
            text-align: center;
            font-family: "Roboto", sans-serif;
            font-optical-sizing: auto;
            font-style: normal;
        }
        table {
            background-color: aqua;
            min-width: 100px;
            min-height: 100px;
            border: solid aqua 15px;
            border-radius: 30px;
        }
        td{
            background-color: white;
            width: 50px;
            height: 50px;
            text-align: center;
            font-size: 40px;
            border-radius: 10px;
        }
        b{
            margin: 0;
            padding: 0;
        }
        button{
            background-color:aqua;
            font-size: 40px;
            border-radius: 10px;
            -webkit-text-fill-color: white;
        }
    </style>
</head>
    <body>
        <h1>Jogo da Velha</h1>
        <b></b>
        <section>
            <table>
                <tr>
                    <td id="td1" onclick="adicionarTexto(this)"></td>  <td id="td2" onclick="adicionarTexto(this)"></td>  <td id="td3" onclick="adicionarTexto(this)"></td>
                </tr>
                <tr>
                    <td id="td4" onclick="adicionarTexto(this)"></td>  <td id="td5" onclick="adicionarTexto(this)"></td>  <td id="td6" onclick="adicionarTexto(this)"></td>
                </tr>
                <tr>
                    <td id="td7" onclick="adicionarTexto(this)"></td>  <td id="td8" onclick="adicionarTexto(this)"></td>  <td id="td9" onclick="adicionarTexto(this)"></td>
                </tr>
            </table>
            <button onclick="reset()">Reiniciar</button>
        </section>
    </body>
    <script type="text/javascript">
        var playerText = "x"
        function adicionarTexto(thetd) {
            if (thetd.innerText === "") {
            thetd.innerText = playerText;
            playerText = playerText === "x" ? "o" : "x";
            checkerVitória()
            }
        }
        function checkerVitória() {
            var td1 = document.querySelector("#td1");
            var td2 = document.querySelector("#td2");
            var td3 = document.querySelector("#td3");
            var td4 = document.querySelector("#td4");
            var td5 = document.querySelector("#td5");
            var td6 = document.querySelector("#td6");
            var td7 = document.querySelector("#td7");
            var td8 = document.querySelector("#td8");
            var td9 = document.querySelector("#td9");
            var p = document.querySelector("b")

            const linhasGanhas = [
                [td1, td2, td3],
                [td4, td5, td6],
                [td7, td8, td9],
                [td1, td5, td9],
                [td3, td5, td7],
                [td2, td5, td8],
                [td1, td4, td7],
                [td3, td6, td9]
            ]
            const todas = [td1, td2, td3, td4, td5, td6, td7, td8, td9];
            if(todas.every(td => td.innerText !== "")) {
                p.innerText = "Empate!";
            }
            for(let linha of linhasGanhas) {
                const [a, b, c] = linha;
                if(a.innerText !== "" && a.innerText === b.innerText && a.innerText === c.innerText) {
                    p.innerText = "O jogador '" + a.innerText + "' venceu!";
                }
            }
        }
        function reset() {
            var td = document.querySelectorAll("td");
            var p = document.querySelectorAll("b");

            td.forEach(tdel => {
                tdel.innerText = "";
            });

            p.forEach(pel => {
                pel.innerText = "";
            });
            playerText = "x";
        }
    </script>
</html>
